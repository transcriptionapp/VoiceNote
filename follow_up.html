<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Follow-Up Mail Generator</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Manrope:wght@400;500;700;800&family=Noto+Sans:wght@400;500;700;900"
    />
    <link rel="stylesheet" href="output.css" />
  </head>
  <body class="bg-slate-50 font-sans">
    <div class="min-h-screen flex flex-col justify-between overflow-x-hidden">
      <!-- Header -->
      <div>
        <div class="flex items-center p-4 pb-2 justify-between">
          <button
            onclick="window.history.back()"
            class="text-[#0e141b] rounded-full bg-white p-2 shadow hover:bg-slate-100 transition"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path>
            </svg>
          </button>
          <h2 class="text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">
            Follow-Up Mail Generator
          </h2>
          <div class="w-12"></div>
        </div>

        <!-- Subtitle -->
        <div class="px-4">
          <p class="text-center text-[#4e7397] text-sm">
            AI-generated email based on your transcription
          </p>
        </div>

        <!-- Email Box -->
        <div class="max-w-[480px] w-full mx-auto px-4 py-4">
          <label class="flex flex-col w-full">
            <p class="text-[#0e141b] text-base font-medium leading-normal pb-2">Generated Email:</p>
            <textarea
              id="emailDraft"
              placeholder="Generating your follow-up email..."
              class="form-input w-full resize-vertical overflow-hidden rounded-xl text-[#0e141b] focus:outline-none focus:ring-0 border border-[#d0dbe7] bg-white focus:border-[#1980e6] min-h-[150px] placeholder:text-[#4e7397] p-[15px] text-base font-normal leading-normal"
            ></textarea>
          </label>
        </div>
      </div>

      <!-- Actions -->
      <div class="w-full max-w-[480px] px-4 pb-6 mx-auto">
        <button
          id="sendViaGmail"
          class="btn-primary w-full h-12 rounded-full bg-[#1980e6] text-white font-bold text-base tracking-wide flex items-center justify-center gap-2"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
            <path
              d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"
            ></path>
          </svg>
          <span>Send Follow-Up via Gmail</span>
        </button>
        <div class="mt-4 hidden" id="saveFollowUpBtn">
          <button class="w-full h-12 rounded-full bg-[#4b5563] text-white font-bold text-base">ðŸ’¾ Save Edits</button>
        </div>
      </div>

      <!-- Hidden loader -->
      <div id="loadingAnimation" class="loader hidden mx-auto mb-4"></div>
    </div>

    <!-- Status message output -->
    <div id="status" class="text-center py-4 text-sm text-gray-500"></div>

    <script type="module" src="./js/follow_up.js"></script>
  </body>
</html>
